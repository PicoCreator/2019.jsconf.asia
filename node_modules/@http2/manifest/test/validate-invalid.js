const test = require('blue-tape')
const {validate} = require('..')

const fixtures = {
  'Missing push source': [
    {
      get: '/',
      push: {}
    }
  ]
}

for (const label of Object.keys(fixtures)) {
  let index = 0
  for (const given of fixtures[label]) {
    index++
    test(`Invalid manifest: ${label} (${index})`, async (t) => {
      t.throws(() => {
        validate([given])
      })
    })
  }
}
