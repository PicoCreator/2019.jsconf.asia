const test = require('blue-tape')
const {normaliseHost} = require('..')

test('Sanity check', async (t) => {
  const actual = normaliseHost()
  t.ok(actual)
})

test('Host fallback', async (t) => {
  const actual = normaliseHost({
    root: '/bla',
    fallback: '/foo/bar'
  })
  t.deepEqual(actual.fallback, {200: '/bla/foo/bar'})
})

test('Host fallback', async (t) => {
  const actual = normaliseHost({
    serviceWorker: {
      allowed: '/'
    }
  })
  t.deepEqual(actual.serviceWorker, {allowed: '/'})
})
